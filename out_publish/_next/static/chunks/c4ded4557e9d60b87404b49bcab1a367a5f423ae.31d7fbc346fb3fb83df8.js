(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"4JlD":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(i(e),(function(i){var c=encodeURIComponent(r(i))+n;return a(e[i])?o(e[i],(function(e){return c+encodeURIComponent(r(e))})).join(t):c+encodeURIComponent(r(e[i]))})).join(t):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},Dpqh:function(e,t,n){e.exports={"no-select":"cmsNav_no-select__2UT9e",appNavRow:"cmsNav_appNavRow__3kOnS",actionButton:"cmsNav_actionButton__Ub8sc",appNav:"cmsNav_appNav__2-I_w",appNavImg:"cmsNav_appNavImg__3bUMw",appNavHead:"cmsNav_appNavHead__3yzrg",hidden:"cmsNav_hidden__3qgp6",hover:"cmsNav_hover__3_1G6",appNavHeadTitle:"cmsNav_appNavHeadTitle__1R_ba",burgerMenuButton:"cmsNav_burgerMenuButton__2xhpv",burgerIcon:"cmsNav_burgerIcon__1wCIw",signInUpButton:"cmsNav_signInUpButton__1xeSD",cmsButton:"cmsNav_cmsButton__3nac9",myAccountButton:"cmsNav_myAccountButton__3M78F",sellButton:"cmsNav_sellButton__YP17C",appNavTitle:"cmsNav_appNavTitle__3lk_6",burgerNav:"cmsNav_burgerNav__2Ih-C",burgerNavTitle:"cmsNav_burgerNavTitle__2Pcl0",appNavButton:"cmsNav_appNavButton__BMnpW"}},MCIb:function(e,t,n){"use strict";t.a=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]),console.log(e);var n=e.split(",")[0],r=n.split(":")[1].split(";")[0];console.log(n.split(";")[1]);var a=n.split(";")[1].slice(5);console.log(a);for(var o=new Uint8Array(t.length),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);var c=new Blob([o],{type:r});return new File([c],a,{type:r})}},kd2E:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!==typeof e||0===e.length)return i;var c=/\+/g;e=e.split(t);var s=1e3;o&&"number"===typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var p,d,_,m,v=e[l].replace(c,"%20"),f=v.indexOf(n);f>=0?(p=v.substr(0,f),d=v.substr(f+1)):(p=v,d=""),_=decodeURIComponent(p),m=decodeURIComponent(d),r(i,_)?a(i[_])?i[_].push(m):i[_]=[i[_],m]:i[_]=m}return i};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},o6LY:function(e,t,n){e.exports={navPadding:"itemDetail_navPadding__ozmZd",saveButtonContainer:"itemDetail_saveButtonContainer__sr_2S",saveButton:"itemDetail_saveButton__2wWhg",backButton:"itemDetail_backButton__35w4l",metaDataButton:"itemDetail_metaDataButton__368xd",productDetailPage:"itemDetail_productDetailPage__3KLti",productDetail:"itemDetail_productDetail__35Boc",productInfo:"itemDetail_productInfo__14asY",title:"itemDetail_title__3jzCU",price:"itemDetail_price__g25gs",description:"itemDetail_description__1O-Ms",productSizesInfo:"itemDetail_productSizesInfo__1JzvP",productSizesList:"itemDetail_productSizesList__3O3GN",productTagsInfo:"itemDetail_productTagsInfo__1xrN0",productTagsList:"itemDetail_productTagsList__274Wz",callToActionSection:"itemDetail_callToActionSection__3bTes",addToCartButton:"itemDetail_addToCartButton__2wbWr",addToWishListButton:"itemDetail_addToWishListButton__Hu2Rs",productInfoContainer:"itemDetail_productInfoContainer__15f7B",suggestionSection:"itemDetail_suggestionSection__1dioS",suggestionSectionTitle:"itemDetail_suggestionSectionTitle__LbDSX",suggestionSectionContent:"itemDetail_suggestionSectionContent__1XLft",bottomSection:"itemDetail_bottomSection__3unDp",leftDescriptionFieldContainer:"itemDetail_leftDescriptionFieldContainer__ky9i8",rightDescriptionFieldContainer:"itemDetail_rightDescriptionFieldContainer__24_Dw",descriptionField:"itemDetail_descriptionField__3Wdcx",inventoryFieldItem:"itemDetail_inventoryFieldItem__1Kk1i",tagMenu:"itemDetail_tagMenu__1eNpp",sizeMenuCombo:"itemDetail_sizeMenuCombo__1PBDK",measurementMenu:"itemDetail_measurementMenu__3pOiI",sizeMenu:"itemDetail_sizeMenu__1rQfu",removeButton:"itemDetail_removeButton__FsRIx"}},s4NR:function(e,t,n){"use strict";t.decode=t.parse=n("kd2E"),t.encode=t.stringify=n("4JlD")},wPeG:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("Dpqh"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=n("TSYQ"),s=n.n(c),u=n("/eHF"),l=n.n(u),p=n("YFqc"),d=n.n(p),_=n("/MKj"),m=n("/lTL"),v=n("Bv16"),f=n("OeZC"),g=n("o6LY"),b=n.n(g),N=(n("xq7h"),n("nOHt"),i.a.createElement);function h(e){e.action;var t=Object(o.useState)(!1),n=t[0],r=t[1],c=Object(_.d)((function(e){return e.auth.token})),u=(Object(_.d)((function(e){return e.auth.info})),Object(_.d)((function(e){return e.profile}))),p=u.readyStatus===v.c,g=Object(_.c)();Object(o.useEffect)((function(){null===function(e){var t=window.document.cookie;console.log(t);var n=e+"=",r=t.indexOf("; "+n);if(-1==r){if(0!=(r=t.indexOf(n)))return null}else{r+=2;var a=window.document.cookie.indexOf(";",r);-1==a&&(a=t.length)}var o=decodeURI(t.substring(r+n.length,a));return console.log(e),console.log(o),o}("token")||p||g({type:f.a})}),[c]);return N(i.a.Fragment,null,N("div",{className:a.a.appNav},N("div",{className:a.a.appNavHead},N("div",{onClick:function(){r(!n)},className:a.a.burgerMenuButton},N("svg",{className:a.a.burgerIcon,viewBox:"0 0 24 24"},N("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}))),N(d.a,{href:"/cms/create"},N("button",{className:b.a.saveButton},"Create Product")),N(d.a,{href:"/cms/metadata"},N("button",{className:b.a.metaDataButton},"Meta Data"))),N("div",null,N("div",{className:a.a.appNavRow},p&&!0===u.data.admin?N(d.a,{href:"/shopping"},N("div",{className:a.a.cmsButton},N("h4",null," Shop "))):null,p?null:N(d.a,{href:"/login"},N("div",{className:a.a.signInUpButton},N("h4",null," Sign In "))),p?N(d.a,{href:null!==c?"/profile/recycle-history":"/register"},N("div",{className:a.a.myAccountButton},N("h4",null," ","Hi, ".concat(u.data.name)),N(m.a,null))):N(d.a,{href:"/register"},N("div",{className:a.a.signInUpButton},N("h4",null," Sign Up ")))))),N("div",{className:n?a.a.burgerNav:s()(a.a.burgerNav,a.a.hidden)},N(l.a,{delay:50,duration:300,top:!0,when:!0===n},N(d.a,{href:"/shopping",className:a.a.burgerNavTitle},"Shopping")),N(l.a,{delay:150,duration:300,top:!0,when:!0===n},N(d.a,{href:"/recycle",className:a.a.burgerNavTitle},"Recycle"))))}},xq7h:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return h}));var r=n("o0o1"),a=n.n(r),o=n("rePB"),i=n("YwnL"),c=n("taz7"),s=(n("s4NR"),function(e){return Object(c.a)(i.c,"/inventories/add",{files:e})}),u=function(e,t){return Object(c.a)(i.c,"/inventories/".concat(t),{files:e})},l=n("MCIb"),p=n("5rFJ"),d=n("nOHt"),_=n.n(d),m=a.a.mark(O),v=a.a.mark(I),f=a.a.mark(j);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N="ADD_INVENTORY",h="UPDATE_INVENTORY";function O(){var e,t,n,r,o,i,c,u,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(p.d)((function(e){return e.oneInventory}));case 2:return e=a.sent.data,a.next=5,Object(p.d)((function(e){return e.editInventory}));case 5:return t=a.sent,n=y(e.images,t.images),r=D(e.tags.map((function(e){return e.id})),t.tags.map((function(e){return e.id}))),console.log(e.sizes),console.log(t.sizes),o=D(e.sizes.map((function(e){return e.id})),t.sizes.map((function(e){return e.id}))),i={price:t.price,brand:t.brand,sellerId:t.seller.id,texts:t.text,images:{remove:n.remove},tags:{insert:r.insert,remove:r.remove},sizes:{insert:o.insert,remove:o.remove}},console.log(i),c={},t.images.filter((function(e){return"file"in e})).forEach((function(e){var n=Object(l.a)(e.url);c["image-".concat(t.id,"-").concat(e.order)]=n})),console.log(i),console.log(c),a.prev=17,a.next=20,Object(p.b)(s,b(b({},c),{},{data:JSON.stringify(i)}));case 20:u=a.sent,d=u.data.data,_.a.push("/cms/product/p/".concat(d)),a.next=27;break;case 25:a.prev=25,a.t0=a.catch(17);case 27:case"end":return a.stop()}}),m,null,[[17,25]])}var D=function(e,t){var n=e.filter((function(e){return t.indexOf(e)<0}));return{insert:t.filter((function(t){return e.indexOf(t)<0})),remove:n}},y=function(e,t){var n=e.map((function(e){return e.order})),r=t.map((function(e){return e.order}));return console.log(n),console.log(r),{remove:n.filter((function(e){return r.indexOf(e)<0}))}};function I(){var e,t,n,r,o,i,c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(p.d)((function(e){return e.oneInventory}));case 2:return e=a.sent.data,a.next=5,Object(p.d)((function(e){return e.editInventory}));case 5:return t=a.sent,n=y(e.images,t.images),r=D(e.tags.map((function(e){return e.id})),t.tags.map((function(e){return e.id}))),console.log(e.sizes),console.log(t.sizes),o=D(e.sizes.map((function(e){return e.id})),t.sizes.map((function(e){return e.id}))),i={price:t.price,brand:t.brand,sellerId:t.seller.id,texts:t.text,images:{remove:n.remove},tags:{insert:r.insert,remove:r.remove},sizes:{insert:o.insert,remove:o.remove}},console.log(i),c={},t.images.filter((function(e){return"file"in e})).forEach((function(e){var n=Object(l.a)(e.url);c["image-".concat(t.id,"-").concat(e.order)]=n})),console.log(i),console.log(c),a.prev=17,a.next=20,Object(p.b)(u,b(b({},c),{},{data:JSON.stringify(i)}),t.id);case 20:a.sent,a.next=25;break;case 23:a.prev=23,a.t0=a.catch(17);case 25:case"end":return a.stop()}}),v,null,[[17,23]])}function j(e){var t,n,r,o,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,Object(p.d)((function(e){return e.editInventory}));case 3:return n=a.sent,r=n.attachment.pictures,o={body:n.body,title:n.title,nameZh:n.nameZh,nameEn:n.nameEn,descriptionZh:n.descriptionZh,descriptionEn:n.descriptionEn,tags:n.tags,sizes:n.sizes},i={},r.map((function(e,t){var n=Object(l.a)(e);console.log(n),i["image_".concat(t)]=n})),a.prev=8,a.next=11,Object(p.b)(u,b(b({},i),{},{data:JSON.stringify(o)}),t);case 11:a.sent,a.next=16;break;case 14:a.prev=14,a.t0=a.catch(8);case 16:case"end":return a.stop()}}),f,null,[[8,14]])}t.c=[Object(p.e)(N,O),Object(p.e)(h,I),Object(p.e)("REMOVE_INVENTORIES",j)]}}]);